{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 212a2b73075b5f042a4a","webpack:///./src/piano.js"],"names":[],"mappings":"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","file":"piano.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"piano\"] = factory();\n\telse\n\t\troot[\"piano\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 212a2b73075b5f042a4a\n **/","'use strict'\r\n\r\nclass Piano {\r\n\r\n  constructor(options) {\r\n    if (document.querySelectorAll('#piano').length) {\r\n      console.warn('piano is already initialized')\r\n      return false\r\n    }\r\n    this.defaults = {\r\n      triggerEvents: ['click'],\r\n      slideContent: false,\r\n      slideContainer: 'body',\r\n      onBeforeHidden: function () { },\r\n      onHidden: function () { },\r\n      layouts: layouts || []\r\n    }\r\n    \r\n    this.settings = Object.assign(this.defaults, options)\r\n    this.container = Object.assign(document.createElement('div'), { id: 'piano', className: 'piano-container animated' })\r\n    this.detectInputs()\r\n    document.body.appendChild(this.container)\r\n    // Make sure to hide keyboard when clicking outside\r\n    addMultipleListeners(['click', 'touchdown'], document, function (event) {\r\n      if (event.target.dataset.piano !== '' && !this.container.contains(event.target)) {\r\n        this.hideKeyboard()\r\n      }\r\n    }.bind(this))\r\n  }\r\n\r\n  detectInputs() {\r\n    let createKeyboard = (parent, target) => {\r\n      let _k = Object.assign({}, parent)\r\n      delete _k.triggers\r\n      delete _k.layouts\r\n      var datas = target.dataset\r\n      var options = {}\r\n\r\n      _k.shift = false\r\n\r\n      if (datas.pianoPosition) {\r\n        if (datas.pianoPosition.indexOf('absolute') > -1) {\r\n          options.position = datas.pianoPosition.replace(/absolute,\\s/gi, '').split(',')\r\n        } else {\r\n          options.position = (datas.pianoPosition) ? datas.pianoPosition.split(',') : []\r\n        }\r\n      } else {\r\n        console.warn('It seems you have incorrect values in your data-piano-position attribute on element: ', target)\r\n        options.position = []\r\n      }\r\n      // Object.assign(options, datas)\r\n\r\n      options.layout = datas.pianoLayout\r\n      options.limit = datas.pianoLimit\r\n      options.animationIn = datas.pianoAnimationIn\r\n      options.animationOut = datas.pianoAnimationOut\r\n      options.scale = datas.pianoScale\r\n\r\n      let eventID = datas.pianoEventId\r\n      let elementEvent = null\r\n      if (eventID) {\r\n        elementEvent = document.createEvent('Event')\r\n        elementEvent.initEvent(eventID, true, true)\r\n      }\r\n\r\n      // could be improve with a default object\r\n      _k.settings = {\r\n        position: {\r\n          x: options.position[0] || 'center',\r\n          y: options.position[1] || 'bottom'\r\n        },\r\n        layout: options.layout || 'default',\r\n        limit: options.limit || -1,\r\n        submitEvent: elementEvent,\r\n        animationIn: options.animationIn || 'fadeInUp',\r\n        animationOut: options.animationOut || 'fadeOutDown',\r\n        scale: options.scale || 1\r\n      }\r\n\r\n      addMultipleListeners(['click', 'touchdown'], target, function (event) {\r\n        this.clearKeyboards()\r\n        this.currentTarget = event.target\r\n        this.displayKeyboard(_k)\r\n      }.bind(this))\r\n    }\r\n\r\n    this.triggers = document.querySelectorAll('[data-piano]')\r\n    let triggerSize = this.triggers.length\r\n    for (var triggerIdx = 0; triggerIdx < triggerSize; triggerIdx++) {\r\n      createKeyboard(this, this.triggers[triggerIdx])\r\n    }\r\n  }\r\n\r\n  displayKeyboard (instance) {\r\n    var _k = this\r\n    _k.currentKeyboard = instance\r\n\r\n    var rowsContainer = document.createElement('div')\r\n    rowsContainer.className = 'piano-rows'\r\n\r\n    var layout = this.settings.layouts[instance.settings.layout]\r\n\r\n    var rows = []\r\n    rows.push(document.createElement('ul'))\r\n\r\n    for (var i in layout) {\r\n      var li = document.createElement('li')\r\n      if (layout[i] == 'break') {\r\n        rowsContainer.appendChild(rows[rows.length - 1])\r\n        rows.push(document.createElement('ul'))\r\n      } else {\r\n        var key = document.createElement('button')\r\n        if (typeof (layout[i][0]) === 'object') {\r\n          li.className = layout[i][0].name\r\n          key.className = 'key ' + layout[i][0].name\r\n          key.innerHTML = layout[i][0].value\r\n          key.dataset.pianoKey = layout[i][0].name\r\n        } else {\r\n          key.className = 'key ' + layout[i]\r\n          key.textContent = layout[i][0]\r\n          key.dataset.pianoKey = layout[i][0]\r\n        }\r\n        addMultipleListeners(_k.settings.triggerEvents, key, function (event) {\r\n          debounce(this.keyPressed(event), 300, false)\r\n        }.bind(this))\r\n        li.appendChild(key)\r\n      }\r\n      rowsContainer.appendChild(rows[rows.length - 1])\r\n\r\n      rows[rows.length - 1].appendChild(li)\r\n    }\r\n\r\n    if (isNaN(instance.settings.position.x) || isNaN(instance.settings.position.y)) {\r\n      this.container.className += ' ' + instance.settings.position.x\r\n      this.container.className += ' ' + instance.settings.position.y\r\n    } else {\r\n      this.container.style.left = instance.settings.position.x + 'px'\r\n      this.container.style.top = instance.settings.position.y + 'px'\r\n    }\r\n\r\n    this.container.style.display = 'block'\r\n    this.container.classList.remove(this.currentKeyboard.settings.animationOut)\r\n    this.container.appendChild(rowsContainer)\r\n    this.container.classList.add(this.currentKeyboard.settings.animationIn)\r\n\r\n    var scale = _k.currentKeyboard.settings.scale\r\n    if (scale > 1) {\r\n      var x = _k.currentKeyboard.settings.position.x\r\n      var y = _k.currentKeyboard.settings.position.y\r\n      scaleKeyboard(rowsContainer, scale, x, y)\r\n    }\r\n\r\n    document.body.classList.add('piano-open')\r\n    if (this.slideContent) {\r\n      document.querySelector(this.slideContainer).style.top = '-' + (rowsContainer.getBoundingClientRect().height / 2) + 'px'\r\n    }\r\n  }\r\n\r\n  keyPressed (event) {\r\n    var target = event.target\r\n    var value = target.textContent\r\n    var input = this.currentTarget\r\n    var cursor = input.selectionStart\r\n    var end = input.selectionEnd\r\n    var diff = (end - cursor) || 1\r\n    var offset = 1\r\n    var limit = this.currentKeyboard.settings.limit\r\n    var submitEvent = this.currentKeyboard.settings.submitEvent\r\n\r\n    // There are still small bugs with selections.\r\n    if (/del/i.test(target.className)) {\r\n      var deleteOffset = (cursor) ? -1 : 0\r\n      input.value = insertToString(input.value, (cursor + deleteOffset), diff, '')\r\n      offset = -1\r\n    } else if (/space/i.test(target.className)) {\r\n      if (input.value.length <= limit || limit === -1) {\r\n        input.value = insertToString(input.value, cursor, (diff - 1), ' ')\r\n      }\r\n    } else if (/shift/i.test(target.className)) {\r\n      this.switchCase()\r\n    } else if (/larr/i.test(target.className)) {\r\n      offset = -1\r\n    } else if (/rarr/i.test(target.className)) {\r\n      offset = 1\r\n    } else if (/hide/i.test(target.className)) {\r\n      this.hideKeyboard()\r\n    } else if (/submit/i.test(target.className)) {\r\n      if (submitEvent) {\r\n        input.dispatchEvent(submitEvent)\r\n      } else {\r\n        console.warn('You did not provide a data-piano-event-id attribute.')\r\n      }\r\n    } else {\r\n      if (input.value.length <= limit || limit === -1) {\r\n        input.value = insertToString(input.value, cursor, (diff - 1), value)\r\n      }\r\n    }\r\n\r\n    input.selectionStart = cursor + offset\r\n    input.selectionEnd = cursor + offset\r\n\r\n    if (document.createEvent) {\r\n      var evt = document.createEvent('HTMLEvents')\r\n      evt.initEvent('input', false, true)\r\n      input.dispatchEvent(evt)\r\n    } else {\r\n      input.fireEvent('input')\r\n    }\r\n\r\n    input.focus()\r\n  }\r\n\r\n  switchCase () {\r\n    var shift = this.currentKeyboard.shift = !this.currentKeyboard.shift\r\n    var keys = document.querySelectorAll('.piano-rows > ul > li')\r\n    var layout = this.settings.layouts[this.currentKeyboard.settings.layout]\r\n    let keySize = keys.length\r\n\r\n    for (var i = 0; i < keySize; i++) {\r\n      var target = keys[i].children[0]\r\n      if (target) {\r\n        var value = target.textContent\r\n        if (layout[i].length > 1 && layout[i][0].length > 0) {\r\n          target.textContent = (shift) ? layout[i][1] : layout[i][0]\r\n        } else {\r\n          target.textContent = (shift) ? value.toUpperCase() : value.toLowerCase()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  hideKeyboard () {\r\n    if (this.container.firstChild) {\r\n      typeof this.onBeforeHidden === 'function' && this.onBeforeHidden()\r\n      this.container.classList.remove(this.currentKeyboard.settings.animationIn)\r\n      this.container.classList.add(this.currentKeyboard.settings.animationOut)\r\n      setTimeout(() => {\r\n        this.container.style.display = 'none'\r\n      }, +this.container.style.animationDuration)\r\n      document.body.classList.remove('piano-open')\r\n      if (this.slideContent) {\r\n        document.querySelector(this.slideContainer).style.top = 0\r\n      }\r\n      typeof this.onHidden === 'function' && this.onHidden()\r\n    }\r\n  }\r\n\r\n  clearKeyboards () {\r\n    if (this.container.firstChild) {\r\n      this.container.firstChild.remove()\r\n      this.container.style.top = this.container.style.left = ''\r\n      this.container.className = 'piano-container animated'\r\n      this.currentKeyboard = null\r\n      document.body.classList.remove('piano-open')\r\n      if (this.slideContent) {\r\n        document.querySelector(this.slideContainer).style.top = 0\r\n      }\r\n    }\r\n  }\r\n\r\n  isOpen () {\r\n    return document.body.className.match(/\\piano-open\\b/) !== null\r\n  }\r\n\r\n  destroy () {\r\n    this.clearKeyboards()\r\n    this.container.remove()\r\n  }\r\n}\r\n\r\nfunction scaleKeyboard (container, scale, x, y) {\r\n  container.style['-webkit-transform'] = 'scale(' + scale + ')'\r\n  container.style['-moz-transform'] = 'scale(' + scale + ')'\r\n  container.style['-ms-transform'] = 'scale(' + scale + ')'\r\n  container.style['-o-transform'] = 'scale(' + scale + ')'\r\n  container.style['transform'] = 'scale(' + scale + ')'\r\n\r\n  container.style['-webkit-transform-origin'] = x + ' ' + y\r\n  container.style['-moz-transform-origin'] = x + ' ' + y\r\n  container.style['-ms-transform-origin'] = x + ' ' + y\r\n  container.style['-o-transform-origin'] = x + ' ' + y\r\n  container.style['transform-origin'] = x + ' ' + y\r\n}\r\n\r\nfunction insertToString (str, index, count, add) {\r\n  return str.slice(0, index) + (add || '') + str.slice(index + count)\r\n}\r\n\r\nfunction addMultipleListeners (events, target, handler) {\r\n  events = (events instanceof Array) ? events : [events]\r\n  for (var i = 0; i < events.length; i++) {\r\n    target.addEventListener(events[i], function (event) {\r\n      handler(event)\r\n    })\r\n  }\r\n}\r\n\r\n// Helpers function for piano object\r\nfunction debounce(func, wait, immediate) {\r\n  var timeout\r\n  return function () {\r\n    var context = this\r\n    var args = arguments\r\n    var later = function () {\r\n      timeout = null\r\n      if (!immediate) {\r\n        func.apply(context, args)\r\n      }\r\n    }\r\n    var callNow = immediate && !timeout\r\n    clearTimeout(timeout)\r\n    timeout = setTimeout(later, wait || 200)\r\n    if (callNow) {\r\n      func.apply(context, args)\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = Piano\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/piano.js\n **/"],"sourceRoot":""}